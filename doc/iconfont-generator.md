# ğŸ¨ Flutter IconFont Generator

ä»iconfont.jsonæ–‡ä»¶è‡ªåŠ¨ç”ŸæˆFlutterå›¾æ ‡å­—ä½“Dartæ–‡ä»¶çš„å·¥å…·ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“„ è§£æiconfont.jsonæ–‡ä»¶è‡ªåŠ¨ç”ŸæˆDartå›¾æ ‡å¸¸é‡
- ğŸ·ï¸ æ™ºèƒ½å‘½åè½¬æ¢ï¼ˆæ”¯æŒæ¨ªçº¿è½¬é©¼å³°ï¼‰
- ğŸ”§ æ”¯æŒå¤šç§JSONæ ¼å¼ï¼ˆiconfont.cnã€è‡ªå®šä¹‰æ ¼å¼ç­‰ï¼‰
- ğŸ¯ ç±»å‹å®‰å…¨çš„IconDataå¸¸é‡
- ğŸ› ï¸ å¯é€‰çš„æ‰©å±•æ–¹æ³•ç”Ÿæˆ
- âš™ï¸ çµæ´»çš„é…ç½®é€‰é¡¹

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
flutter_chen_iconfont

# æˆ–é€šè¿‡ä¸»å…¥å£
flutter_chen_generator iconfont
```

### é«˜çº§é…ç½®

```bash
flutter_chen_iconfont \
  --input assets/fonts/icons.json \
  --output lib/icons.dart \
  --class-name MyIcons \
  --font-family MyFont \
  --extensions
```

## ğŸ“‹ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | çŸ­å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|--------|------|--------|
| `--input` | `-i` | JSONè¾“å…¥æ–‡ä»¶ | `assets/fonts/iconfont.json` |
| `--output` | `-o` | Dartè¾“å‡ºæ–‡ä»¶ | `lib/generated/iconfont.dart` |
| `--class-name` | `-c` | ç”Ÿæˆçš„ç±»å | `IconFont` |
| `--font-family` | `-f` | å­—ä½“å®¶æ—åç§° | `ComIcon` |
| `--extensions` | - | ç”Ÿæˆæ‰©å±•æ–¹æ³• | `false` |
| `--help` | `-h` | å¸®åŠ©ä¿¡æ¯ | - |

## ğŸ“„ æ”¯æŒçš„JSONæ ¼å¼

### 1. iconfont.cn æ ‡å‡†æ ¼å¼
```json
{
  "glyphs": [
    {
      "font_class": "home",
      "unicode_decimal": 58880
    },
    {
      "font_class": "user-circle",
      "unicode_decimal": 58881
    }
  ]
}
```

### 2. è‡ªå®šä¹‰æ ¼å¼
```json
{
  "icons": [
    {
      "name": "home", 
      "code": 58880
    },
    {
      "name": "user-circle",
      "unicode": "0xe601"
    }
  ]
}
```

### 3. ç›´æ¥æ•°ç»„æ ¼å¼
```json
[
  {
    "font_class": "home",
    "unicode_decimal": 58880
  },
  {
    "font_class": "user-circle",
    "unicode_decimal": 58881
  }
]
```

## ğŸ“‚ ç”Ÿæˆç¤ºä¾‹

### åŸºæœ¬ç”Ÿæˆçš„ä»£ç 
```dart
/// è‡ªåŠ¨ç”Ÿæˆçš„å›¾æ ‡å­—ä½“æ–‡ä»¶ï¼Œè¯·å‹¿æ‰‹åŠ¨ä¿®æ”¹
/// Generated by flutter_chen_iconfont_generator
/// Total icons: 2
import 'package:flutter/material.dart';

/// IconFont å›¾æ ‡å­—ä½“ç±»
/// å­—ä½“å®¶æ—: ComIcon
class IconFont {
  IconFont._();

  /// å­—ä½“å®¶æ—åç§°
  static const String fontFamily = 'ComIcon';

  /// home å›¾æ ‡
  static const IconData home = IconData(
    0xe600,
    fontFamily: 'ComIcon',
  );

  /// user-circle å›¾æ ‡
  static const IconData userCircle = IconData(
    0xe601,
    fontFamily: 'ComIcon',
  );
}
```

### åŒ…å«æ‰©å±•æ–¹æ³•çš„ä»£ç 
```dart
class IconFont {
  // ... åŸºæœ¬å†…å®¹

  /// æ‰€æœ‰å›¾æ ‡åˆ—è¡¨
  static const List<IconData> allIcons = [
    home,
    userCircle,
  ];

  /// æ ¹æ®åç§°è·å–å›¾æ ‡
  static IconData? getByName(String name) {
    switch (name) {
      case 'home': return home;
      case 'user-circle': return userCircle;
      default: return null;
    }
  }
}

/// IconData æ‰©å±•æ–¹æ³•
extension IconFontExtension on IconData {
  /// åˆ›å»º Icon ç»„ä»¶
  Icon icon({
    double? size,
    Color? color,
    String? semanticLabel,
    TextDirection? textDirection,
  }) {
    return Icon(
      this,
      size: size,
      color: color,
      semanticLabel: semanticLabel,
      textDirection: textDirection,
    );
  }
}
```

## ğŸ¯ å‘½åè½¬æ¢è§„åˆ™

### æ¨ªçº¿è½¬é©¼å³°
- `home` â†’ `home`
- `user-circle` â†’ `userCircle`
- `my-awesome-icon` â†’ `myAwesomeIcon`
- `icon_name` â†’ `iconName`

### ç‰¹æ®Šå­—ç¬¦å¤„ç†
- æ•°å­—å¼€å¤´ï¼š`123icon` â†’ `icon123icon`
- ç©ºå­—ç¬¦ä¸²ï¼š`""` â†’ `icon`
- ç‰¹æ®Šå­—ç¬¦ï¼š`icon@#$` â†’ `icon`

## ğŸ”§ é…ç½®å­—ä½“æ–‡ä»¶

åœ¨ `pubspec.yaml` ä¸­æ·»åŠ å­—ä½“é…ç½®ï¼š

```yaml
flutter:
  fonts:
    - family: ComIcon  # ä¸ --font-family å‚æ•°ä¸€è‡´
      fonts:
        - asset: assets/fonts/iconfont.ttf
```

## ğŸ’¡ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```dart
import 'package:flutter/material.dart';
import 'generated/iconfont.dart';

class MyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          // åŸºæœ¬ä½¿ç”¨
          Icon(IconFont.home),
          
          // è‡ªå®šä¹‰æ ·å¼
          Icon(
            IconFont.userCircle,
            size: 32,
            color: Colors.blue,
          ),
          
          // åœ¨æŒ‰é’®ä¸­ä½¿ç”¨
          IconButton(
            icon: Icon(IconFont.home),
            onPressed: () {},
          ),
        ],
      ),
    );
  }
}
```

### ä½¿ç”¨æ‰©å±•æ–¹æ³•
```dart
// éœ€è¦å…ˆç”Ÿæˆæ‰©å±•æ–¹æ³•ï¼šflutter_chen_iconfont --extensions

// ä½¿ç”¨æ‰©å±•æ–¹æ³•å¿«é€Ÿåˆ›å»ºå›¾æ ‡
IconFont.home.icon(
  size: 24,
  color: Colors.red,
)

// æ ¹æ®åç§°è·å–å›¾æ ‡
final icon = IconFont.getByName('home');
if (icon != null) {
  Icon(icon)
}

// éå†æ‰€æœ‰å›¾æ ‡
for (final iconData in IconFont.allIcons) {
  Icon(iconData)
}
```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. æ‰¹é‡å¤„ç†å¤šä¸ªå›¾æ ‡æ–‡ä»¶
```bash
# å¤„ç†ä¸åŒçš„å›¾æ ‡é›†
flutter_chen_iconfont -i assets/fonts/ui-icons.json -o lib/ui_icons.dart -c UiIcons
flutter_chen_iconfont -i assets/fonts/brand-icons.json -o lib/brand_icons.dart -c BrandIcons
```

### 2. CI/CD é›†æˆ
```yaml
# .github/workflows/flutter.yml
- name: Generate IconFont
  run: flutter_chen_iconfont --input assets/fonts/iconfont.json
```

### 3. å¤šå­—ä½“æ”¯æŒ
```dart
// ä¸åŒçš„å›¾æ ‡é›†ä½¿ç”¨ä¸åŒçš„ç±»
Icon(UiIcons.home)      // UIå›¾æ ‡
Icon(BrandIcons.logo)   // å“ç‰Œå›¾æ ‡
```

### 4. åŠ¨æ€å›¾æ ‡é€‰æ‹©
```dart
// æ ¹æ®æ¡ä»¶é€‰æ‹©å›¾æ ‡
final iconData = condition ? IconFont.home : IconFont.userCircle;
Icon(iconData)

// ä»é…ç½®ä¸­é€‰æ‹©å›¾æ ‡
final iconName = config['icon_name'];
final iconData = IconFont.getByName(iconName);
if (iconData != null) {
  Icon(iconData)
}
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: ç”Ÿæˆçš„å›¾æ ‡ä¸æ˜¾ç¤ºï¼Ÿ
A: æ£€æŸ¥ `pubspec.yaml` ä¸­çš„å­—ä½“é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œå­—ä½“å®¶æ—åç§°è¦ä¸ç”Ÿæˆçš„ä»£ç ä¸€è‡´ã€‚

### Q: å›¾æ ‡æ˜¾ç¤ºä¸ºæ–¹å—ï¼Ÿ
A: ç¡®ä¿å­—ä½“æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼Œå¹¶ä¸”å­—ä½“æ–‡ä»¶åŒ…å«å¯¹åº”çš„Unicodeå­—ç¬¦ã€‚

### Q: å‘½åå†²çªæ€ä¹ˆåŠï¼Ÿ
A: å·¥å…·ä¼šè‡ªåŠ¨å¤„ç†å¤§éƒ¨åˆ†å‘½åå†²çªï¼Œå¦‚æœä»æœ‰é—®é¢˜ï¼Œå¯ä»¥ä¿®æ”¹åŸå§‹JSONä¸­çš„ `font_class` åç§°ã€‚

### Q: æ”¯æŒè‡ªå®šä¹‰JSONæ ¼å¼å—ï¼Ÿ
A: æ”¯æŒå¤šç§æ ¼å¼ï¼Œå·¥å…·ä¼šè‡ªåŠ¨è¯†åˆ«å¸¸è§çš„å­—æ®µåï¼ˆ`font_class`ã€`name`ã€`unicode_decimal`ã€`code`ç­‰ï¼‰ã€‚

### Q: å¦‚ä½•æ›´æ–°å›¾æ ‡ï¼Ÿ
A: é‡æ–°ä¸‹è½½JSONæ–‡ä»¶ï¼Œç„¶åé‡æ–°è¿è¡Œç”Ÿæˆå‘½ä»¤å³å¯ã€‚

## ğŸ“š å®Œæ•´å·¥ä½œæµç¨‹

1. **ä» iconfont.cn ä¸‹è½½å›¾æ ‡**
    - é€‰æ‹©å›¾æ ‡å¹¶åŠ å…¥è´­ç‰©è½¦
    - ä¸‹è½½ä»£ç ï¼Œè·å– `iconfont.json` å’Œ `iconfont.ttf`

2. **æ”¾ç½®æ–‡ä»¶**
   ```
   assets/
   â””â”€â”€ fonts/
       â”œâ”€â”€ iconfont.json
       â””â”€â”€ iconfont.ttf
   ```

3. **é…ç½® pubspec.yaml**
   ```yaml
   flutter:
     fonts:
       - family: ComIcon
         fonts:
           - asset: assets/fonts/iconfont.ttf
   ```

4. **ç”Ÿæˆä»£ç **
   ```bash
   flutter_chen_iconfont
   ```

5. **åœ¨ä»£ç ä¸­ä½¿ç”¨**
   ```dart
   import 'generated/iconfont.dart';
   
   Icon(IconFont.home)
   ```